<div class="product-card">
  <!-- Artist Identifier -->
  <div class="artist-identifier" *ngIf="product.artist">
    <a [routerLink]="['/products', product.artist.name]">
      <img [src]="product.artist.image_url" [alt]="product.artist.name" />
    </a>
  </div>

  <!-- Favorite Icon -->
  <i
    *ngIf="!isAuthenticaded || user?.user_type === 'individual'"
    class="fa fa-heart favorite-icon"
    [ngClass]="{ filled: product.is_favorited }"
    (click)="toggleFavorite($event,product.id)">
  </i>

  <!-- Product Details -->
  <a [routerLink]="['/product', product.id]" class="d-block" style="text-decoration: none;">
    <img [src]="product.image_url" [alt]="product.name" class="product-image" />
    <div class="p-3 text-center">
      <p class="product-name mb-0 text-decoration-none no-link-color text-decoration-line-none" style="text-decoration: none !important; text-decoration-line: none !important"> {{ product.name }}</p>
      <p class="product-price">
        <span *ngIf="product.is_on_promotion">
          <span class="text-muted" style="text-decoration: line-through;">
            {{ product.old_price | currency: 'EUR' }}
          </span>
          <span class="text-danger fw-bold ms-2">
            {{ product.price | currency: 'EUR' }}
          </span>
          <span class="badge bg-warning text-dark ms-2">Promoção</span>
        </span>
        <span *ngIf="!product.is_on_promotion">
          {{ product.price | currency: 'EUR' }}
        </span>
      </p>
      <button class="btn btn-add-to-cart w-100" (click)="addToCart(product)">
        Adicionar ao carrinho
      </button>
    </div>
  </a>
</div>
